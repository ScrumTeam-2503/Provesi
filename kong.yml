_format_version: "2.1"

services:
  - host: manejador_pedidos_upstream
    name: manejador_pedidos_service
    protocol: http
    routes:
      
      - name: manejador_pedidos
        paths:
          - /
          - /manejador_pedidos
        strip_path: false

  - host: manejador_inventario_upstream
    name: manejador_inventario_service
    protocol: http
    routes:
      
      - name: manejador_inventario
        paths:
          - /manejador_inventario
        strip_path: false
    
upstreams:
  - name: manejador_pedidos_upstream
    targets:
      - target: <ip-privada-manejador-pedidos-a>:8080
        weight: 100
      - target: <ip-privada-manejador-pedidos-b>:8080
        weight: 100

  - name: manejador_inventario_upstream
    targets:
      - target: <ip-privada-manejador-inventario>:8080
        weight: 100

